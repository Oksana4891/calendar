(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);var i=[{day:"Monday",time:[{hour:"10:00",busy:!1,participants:[],event:""},{hour:"11:00",busy:!1,participants:[],event:""},{hour:"12:00",busy:!1,participants:[],event:""},{hour:"13:00",busy:!1,participants:[],event:""},{hour:"14:00",busy:!1,participants:[],event:""},{hour:"15:00",busy:!1,participants:[],event:""},{hour:"16:00",busy:!1,participants:[],event:""},{hour:"17:00",busy:!1,participants:[],event:""},{hour:"18:00",busy:!1,participants:[],event:""}]},{day:"Tuesday",time:[{hour:"10:00",busy:!1,participants:[],event:""},{hour:"11:00",busy:!1,participants:[],event:""},{hour:"12:00",busy:!1,participants:[],event:""},{hour:"13:00",busy:!1,participants:[],event:""},{hour:"14:00",busy:!1,participants:[],event:""},{hour:"15:00",busy:!1,participants:[],event:""},{hour:"16:00",busy:!1,participants:[],event:""},{hour:"17:00",busy:!1,participants:[],event:""},{hour:"18:00",busy:!1,participants:[],event:""}]},{day:"Wednesday",time:[{hour:"10:00",busy:!1,participants:[],event:""},{hour:"11:00",busy:!1,participants:[],event:""},{hour:"12:00",busy:!1,participants:[],event:""},{hour:"13:00",busy:!1,participants:[],event:""},{hour:"14:00",busy:!1,participants:[],event:""},{hour:"15:00",busy:!1,participants:[],event:""},{hour:"16:00",busy:!1,participants:[],event:""},{hour:"17:00",busy:!1,participants:[],event:""},{hour:"18:00",busy:!1,participants:[],event:""}]},{day:"Thursday",time:[{hour:"10:00",busy:!1,participants:[],event:""},{hour:"11:00",busy:!1,participants:[],event:""},{hour:"12:00",busy:!1,participants:[],event:""},{hour:"13:00",busy:!1,participants:[],event:""},{hour:"14:00",busy:!1,participants:[],event:""},{hour:"15:00",busy:!1,participants:[],event:""},{hour:"16:00",busy:!1,participants:[],event:""},{hour:"17:00",busy:!1,participants:[],event:""},{hour:"18:00",busy:!1,participants:[],event:""}]},{day:"Friday",time:[{hour:"10:00",busy:!1,participants:[],event:""},{hour:"11:00",busy:!1,participants:[],event:""},{hour:"12:00",busy:!1,participants:[],event:""},{hour:"13:00",busy:!1,participants:[],event:""},{hour:"14:00",busy:!1,participants:[],event:""},{hour:"15:00",busy:!1,participants:[],event:""},{hour:"16:00",busy:!1,participants:[],event:""},{hour:"17:00",busy:!1,participants:[],event:""},{hour:"18:00",busy:!1,participants:[],event:""}]}];n("RtS0"),n("3dw1");var r=function(e,t){t.forEach((function(t,n){e.forEach((function(e,i){var r=document.createElement("td");r.classList.add("js-cell"),r.setAttribute("Index-Day",i),r.setAttribute("Index-Time",n),t.appendChild(r)}))}))},a={popup:document.querySelector(".js_eventPopup"),form:document.querySelector(".js-event_form"),bntOpenPopupAddEvent:document.querySelector(".js-open-eventPopup"),btnClosePopupAddEvent:document.querySelector(".js-close-eventPopup"),btnEddEvent:document.querySelector(".js-add-event"),btnCancelAddEvent:document.querySelector(".ja-cancel-addEvent"),table:document.getElementById("calendar"),rowsTime:document.querySelectorAll(".calendar-time"),cellEvent:document.querySelectorAll(".js-cell"),inputParticipants:document.querySelector(".js-input-participants"),bntAddParticipants:document.querySelector(".js-add_participants"),bntRemoveParticipants:document.querySelector(".js-remove_participants"),participantsBlock:document.querySelector(".js_participants-block"),filterParticipants:document.querySelector(".js-filterParticipants"),popupLogin:document.querySelector(".js-login"),selectorUser:document.querySelector(".js-user"),btnConfirmUser:document.querySelector(".js-btn-login"),btnChangeUser:document.querySelector(".js-change-user"),infoUser:document.querySelector(".js-infoUser")};var o=function(e){document.querySelectorAll("form input").forEach((function(e){e.value=""}))};var s=function(e){e.preventDefault(),a.popup.classList.remove("is-open"),o(a.form)};n("FWxf"),n("Muwe"),n("aZFp");var c=function(e,t,n){var i=document.querySelector('[index-day="'+e+'"][index-time="'+t+'"]'),r='\n       <div class="calendar_cell js-card-event"  draggable=true>\n       <div class="calendar_cell--name">'+n+'</div>\n       <div class="calendar_cell--close js-remove">&times;</div>\n       </div>\n      ';i.insertAdjacentHTML("beforeend",r),i.querySelector(".js-card-event")};var u=function(e,t,n,i,r){var a=e.findIndex((function(e){return e.day==t})),o=e[a].time.findIndex((function(e){return e.hour==n})),s=e[a].time[o];s.busy=!0,s.event=r,s.participants=i.split(" "),console.log(e),c(a,o,r)};a.btnEddEvent.addEventListener("click",(function(e){e.preventDefault();var t=new FormData(a.form),n={};t.forEach((function(e,t){n[t]=e}));var r=i.findIndex((function(e){return e.day==n.day})),s=i[r].time.findIndex((function(e){return e.hour==n.time}));if(i[r].time[s].busy)return void alert("Failed to create an event. Time slot is already booked");u(i,n.day,n.time,n.participants,n.event),a.popup.classList.remove("is-open"),o(a.form)}));n("uQK7");var p=function(e){e.preventDefault();var t=a.inputParticipants;a.participantsBlock.classList.toggle("is-open"),a.participantsBlock.addEventListener("click",(function e(n){n.preventDefault(),-1==t.value.indexOf(n.target.textContent)?(a.participantsBlock.classList.remove("is-open"),t.value+=" "+n.target.textContent,a.participantsBlock.removeEventListener("click",e)):alert(n.target.textContent+" already added")}))};n("8rZV"),n("WB5j");var d=function(e){e.preventDefault();var t=a.inputParticipants,n=t.value.lastIndexOf(" "),i=t.value.slice(0,n);t.value=i};n("lYjL"),n("IlJM"),n("D/wG"),n("IvQZ"),n("4NM0");var v=function(e){var t=e.target.value,n=document.querySelectorAll(".js-card-event");!function(e){e.forEach((function(e){e.style.opacity="1"}))}(n),"All members"!=t&&n.forEach((function(e){var n=e.parentElement,r=n.getAttribute("index-day"),a=n.getAttribute("index-time");i[r].time[a].participants.includes(t)||(e.style.opacity="0")}))},l=function(){function e(e){this.name=e}var t=e.prototype;return t.filter=function(){a.filterParticipants.addEventListener("change",v)},t.render=function(){var e=document.createElement("option"),t=document.createElement("option"),n=document.createElement("div");e.value=""+this.name,t.textContent=""+this.name,t.value=""+this.name,e.textContent=""+this.name,n.textContent=""+this.name,a.filterParticipants.appendChild(e),a.selectorUser.appendChild(t),a.participantsBlock.appendChild(n)},e}();var y=function(e){e.preventDefault(),a.popup.classList.add("is-open")};var m=function(e,t){var n=i[e].time[t];n.participants=[],n.event="",n.busy=!1};var b=function(e){if(e.target.classList.contains("js-remove")){var t=e.target.previousElementSibling.innerText;if(confirm("Are you sure you want to delete "+t+" event")){var n=e.target.parentElement,i=n.parentElement,r=i.getAttribute("index-day"),a=i.getAttribute("index-time");m(r,a),n.remove()}}};var f=function(e){var t,n;function i(t){return e.call(this,t)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.addEvent=function(){a.bntOpenPopupAddEvent.addEventListener("click",y)},r.removeEvent=function(){a.table.addEventListener("click",b)},i}(l),h=[];function E(e,t){var n=new t(""+e);h.push(n),n.render()}E("Oksana",l),E("Kate",f),E("Alex",f),E("Mark",l),E("Dima",l);var L=h;var g=function(e){e.preventDefault(),a.bntOpenPopupAddEvent.removeEventListener("click",y),a.table.removeEventListener("click",b),a.bntOpenPopupAddEvent.disabled=!0,a.bntOpenPopupAddEvent.classList.remove("is-active"),a.table.classList.remove("is-active");var t=e.target.previousElementSibling.value,n=L.find((function(e){return e.name==t})),i=n.constructor.name,r=(n.name,a.infoUser);r.children[0].textContent=i+":",r.children[1].textContent=n.name,n.filter(),n instanceof f&&(a.bntOpenPopupAddEvent.disabled=!1,a.bntOpenPopupAddEvent.classList.add("is-active"),a.table.classList.add("is-active"),n.addEvent(),n.removeEvent()),a.popupLogin.classList.remove("is-open")};r(i,a.rowsTime),window.onload=function(){a.popupLogin.classList.add("is-open")},a.btnClosePopupAddEvent.addEventListener("click",s),a.btnCancelAddEvent.addEventListener("click",s),a.bntAddParticipants.addEventListener("click",p),a.bntRemoveParticipants.addEventListener("click",d),a.btnConfirmUser.addEventListener("click",g),a.btnChangeUser.addEventListener("click",(function(e){e.preventDefault,a.popupLogin.classList.add("is-open")}));n("L1EO")}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.13d84e4250fcfcc31df7.js.map